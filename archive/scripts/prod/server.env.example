## ARCHIVED: env example for the deprecated podman-up-*.sh wrappers.
##
## Copy to scripts/prod/server.env and edit per VM:
##   cp scripts/prod/server.env.example scripts/prod/server.env

# dc1 or dc2
CONSUL_DATACENTER=dc1

# This VM's IP (used for advertise + default mesh gateway address)
HOST_IP=10.0.0.21

# Where to publish Consul HTTP UI/API and gRPC (host-side bind address).
# Default is 127.0.0.1 (local-only). For remote access set to 0.0.0.0 or a specific host IP.
# MGMT_BIND_ADDR=127.0.0.1

# Recommended: 3 servers per DC (Raft quorum). For a POC you can set 1.
CONSUL_BOOTSTRAP_EXPECT=3

# Comma-separated Consul server IPs in THIS datacenter (including this VM)
CONSUL_RETRY_JOIN=10.0.0.21,10.0.0.22,10.0.0.23

# Comma-separated Consul server IPs in the OTHER datacenter (WAN federation)
CONSUL_RETRY_JOIN_WAN=10.0.1.21,10.0.1.22,10.0.1.23

# Optional
# CONSUL_ENABLE_UI=1
# CONSUL_ENCRYPT=<gossip-key>
#
# Envoy image/flags (mesh gateway runs Envoy from this image)
# ENVOY_IMAGE=docker.io/envoyproxy/envoy:v1.29-latest
# ENVOY_EXTRA_ARGS=--log-level info
#
# Mesh gateway addresses (defaults to HOST_IP:8443)
# MESH_GATEWAY_ADDRESS=10.0.0.21:8443
# MESH_GATEWAY_WAN_ADDRESS=10.0.0.21:8443
# Where Envoy binds inside the container/pod network namespace.
# Keep this bindable (0.0.0.0 is fine); MESH_GATEWAY_ADDRESS is what gets advertised/registered.
# MESH_GATEWAY_BIND_ADDRESS=0.0.0.0:8443
#
# Optional: override the directory containing Consul config entries to apply.
# Defaults to `docker/consul/config-entries`.
# CONSUL_CONFIG_ENTRIES_DIR=run/ansible/common/config-entries
#
# Optional: expose Consul servers through the gateway (advanced)
# EXPOSE_SERVERS=0
